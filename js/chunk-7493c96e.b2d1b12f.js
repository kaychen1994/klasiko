(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7493c96e"],{"2cf6":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}},[e("template",{slot:"default"},[e("div",{staticClass:"loadingio-spinner-eclipse"},[e("div",{staticClass:"loading-style"},[e("div"),e("div"),e("div")])])])],2),t._m(0),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"breadcrumb"},[e("ul",{staticClass:"list-unstyled d-flex align-items-center"},[e("li",[e("router-link",{staticClass:"nav-link text-main",attrs:{to:"/"}},[t._v("首頁")])],1),e("li",{staticClass:"mr-1"},[t._v(">")]),e("li",[e("router-link",{staticClass:"nav-link text-main",attrs:{to:"/cart"}},[t._v("確認購物車")])],1),e("li",{staticClass:"mr-1"},[t._v(">")]),e("li",[e("router-link",{staticClass:"nav-link text-main",attrs:{to:"/order"}},[t._v("確認訂單")])],1),e("li",{staticClass:"mr-1"},[t._v(">")]),e("li",[t._v("結帳")])])]),t._m(1),e("div",{staticClass:"d-flex justify-content-center mb-6"},[e("div",{staticClass:"checkout"},[e("h3",{staticClass:"mb-3 text-left"},[t._v("結帳")]),e("p",{staticClass:"text-left"},[t._v("若訂單內容無誤，結帳後即可完成訂單。")]),e("table",{staticClass:"table table-hover mb-5"},[t._m(2),e("tbody",t._l(t.order.products,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(s.product.title))]),e("td",[t._v(t._s(s.quantity))]),e("td",[t._v(t._s(t._f("money")(s.product.price)))])])})),0)]),e("hr"),e("h3",{staticClass:"mb-3 text-left"},[t._v("詳細資料")]),e("div",{staticClass:"d-flex justify-content-between"},[e("div",{staticClass:"text-left"},[e("p",[t._v("訂購人姓名："+t._s(t.order.user.name))]),e("p",[t._v("訂購人 Email："+t._s(t.order.user.email))]),e("p",[t._v("收貨人地址："+t._s(t.order.user.address))]),e("p",[t._v("收貨人電話："+t._s(t.order.user.tel))]),e("p",[t._v("付款方式："+t._s(t.order.payment))]),e("p",{staticClass:"text-danger"},[t._v("付款金額："+t._s(t._f("money")(t.order.amount)))]),e("p",[t._v(" 付款狀態： "),t.order.paid?e("span",{staticClass:"text-success font-weight-bold"},[t._v("付款完成")]):e("span",{staticClass:"text-danger font-weight-bold"},[t._v("尚未付款")])]),!1===t.order.paid?e("div",{staticClass:"d-flex align-items-end"},[e("button",{staticClass:"btn btn-danger px-5",on:{click:function(s){return s.preventDefault(),t.payOrder(s)}}},[t._v("確認付款")])]):t._e(),!0===t.order.paid?e("div",{},[e("p",{staticClass:"text-danger mb-3"},[t._v("※您已付款成功，將於 3~5 個工作日收到訂購商品")]),e("router-link",{attrs:{to:"/"}},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"}},[t._v("返回首頁")])])],1):t._e()])])])])])],1)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"topCover checkout-bg bg-img d-flex"},[e("h3",{staticClass:"coverTitle"},[t._v("checkout")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row step"},[e("div",{staticClass:"col-md-12"},[e("ul",{staticClass:"d-flex justify-content-around px-6 mb-7"},[e("li",{staticClass:"process"},[e("span",{staticClass:"material-icons mb-1"},[t._v("shopping_cart")]),e("span",[t._v("1.確認購物車")])]),e("li",{staticClass:"process"},[e("span",{staticClass:"material-icons mb-1"},[t._v("wysiwyg")]),e("span",[t._v("2.確認訂單")])]),e("li",{staticClass:"process processActive"},[e("span",{staticClass:"material-icons mb-1"},[t._v("local_atm")]),e("span",[t._v("3.結帳")])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("產品名稱")]),e("th",{attrs:{scope:"col"}},[t._v("數量")]),e("th",{attrs:{scope:"col"}},[t._v("價格")])])])}],r=(e("99af"),e("1b8a")),n={data:function(){return{order:{user:{}},orderId:"",isLoading:!1}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()},methods:{getOrder:function(){var t=this,s="".concat("https://course-ec-api.hexschool.io/api/").concat("5859a3a4-28fe-452b-819d-f09834d47d87","/ec/orders/").concat(this.orderId);this.isLoading=!0,this.$http.get(s).then((function(s){t.order=s.data.data,t.isLoading=!1})).catch((function(){r["a"].fire({title:"資料取得失敗",icon:"error"}),t.isLoading=!1}))},payOrder:function(){var t=this,s="".concat("https://course-ec-api.hexschool.io/api/").concat("5859a3a4-28fe-452b-819d-f09834d47d87","/ec/orders/").concat(this.orderId,"/paying");this.isLoading=!0,this.$http.post(s).then((function(s){t.getOrder(),t.$bus.$emit("in-cart"),r["a"].fire({title:"您已付款成功",icon:"success"}),t.isLoading=!1})).catch((function(){r["a"].fire({title:"資料取得失敗",icon:"error"}),t.isLoading=!1}))}}},c=n,o=(e("41f2"),e("2877")),l=Object(o["a"])(c,a,i,!1,null,null,null);s["default"]=l.exports},"41f2":function(t,s,e){"use strict";var a=e("d566"),i=e.n(a);i.a},8418:function(t,s,e){"use strict";var a=e("c04e"),i=e("9bf2"),r=e("5c6c");t.exports=function(t,s,e){var n=a(s);n in t?i.f(t,n,r(0,e)):t[n]=e}},"99af":function(t,s,e){"use strict";var a=e("23e7"),i=e("d039"),r=e("e8b5"),n=e("861d"),c=e("7b0b"),o=e("50c4"),l=e("8418"),d=e("65f0"),u=e("1dde"),v=e("b622"),f=e("2d00"),p=v("isConcatSpreadable"),_=9007199254740991,h="Maximum allowed index exceeded",m=f>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=u("concat"),C=function(t){if(!n(t))return!1;var s=t[p];return void 0!==s?!!s:r(t)},g=!m||!b;a({target:"Array",proto:!0,forced:g},{concat:function(t){var s,e,a,i,r,n=c(this),u=d(n,0),v=0;for(s=-1,a=arguments.length;s<a;s++)if(r=-1===s?n:arguments[s],C(r)){if(i=o(r.length),v+i>_)throw TypeError(h);for(e=0;e<i;e++,v++)e in r&&l(u,v,r[e])}else{if(v>=_)throw TypeError(h);l(u,v++,r)}return u.length=v,u}})},d566:function(t,s,e){}}]);
//# sourceMappingURL=chunk-7493c96e.b2d1b12f.js.map